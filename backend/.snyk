# Snyk (https://snyk.io) policy file
# Ignores vulnerabilities until expiry date; changes under review default to updating dependencies

# Security policy configuration for FloWorx Backend
version: v1.25.0

# Language settings
language-settings:
  javascript:
    # Ignore dev dependencies in production scans
    ignore-dev-deps: true

# Patch settings
patch: {}

# Ignore specific vulnerabilities (with justification and expiry)
ignore:
  # Example: Ignore prototype pollution in development dependencies
  # 'SNYK-JS-LODASH-567746':
  #   - '*':
  #       reason: 'Development dependency only, not used in production'
  #       expires: '2024-12-31T23:59:59.999Z'

# Exclude paths from scanning
exclude:
  # Test files and mock data
  - tests/**
  - **/*.test.js
  - **/*.spec.js
  - coverage/**
  - reports/**
  
  # Development and build files
  - node_modules/**
  - .git/**
  - .github/**
  - scripts/test-*.js
  
  # Configuration files
  - jest.config.js
  - .eslintrc.js
  - .prettierrc.js

# Custom rules for specific file types
rules:
  # JavaScript/Node.js specific rules
  javascript:
    # Require secure random number generation
    - rule: 'no-insecure-random'
      severity: 'error'
    
    # Prevent hardcoded secrets
    - rule: 'no-hardcoded-secrets'
      severity: 'error'
    
    # Require HTTPS for external requests
    - rule: 'require-https'
      severity: 'warning'

# Notification settings
notifications:
  # Notify on high and critical vulnerabilities
  vulnerability-threshold: 'high'
  
  # Include fix advice in notifications
  include-fix-advice: true
